<header>
  <img id="user-img" src="../assets/user.png" alt="" />
  <h2>Customers</h2>
  <input
    type="search"
    placeholder="Search"
    id="search"
    (keypress)="handleSearch()"
    (keyup)="handleSearch()"
  />
  <button
    id="add_new_customer"
    class="btn btn-info"
    (click)="add_customer_button()"
  >
    Add New Customer?
  </button>
</header>

<form *ngIf="addingCustomer">
  <div class="form-group">
    <label for="exampleInputEmail1">First Name</label>
    <input
      type="text"
      class="form-control"
      id="first_name"
      [(ngModel)]="first_name"
      placeholder="Enter first name"
    />
    <label for="exampleInputEmail1">Last Name</label>
    <input
      type="text"
      class="form-control"
      id="last_name"
      [(ngModel)]="last_name"
      placeholder="Enter Last name"
    />
    <label for="exampleInputEmail1">Address</label>
    <input
      type="text"
      class="form-control"
      id="address"
      [(ngModel)]="address"
      placeholder="Enter Address"
    />
    <label for="exampleInputEmail1">City</label>
    <input
      type="text"
      class="form-control"
      id="city"
      [(ngModel)]="city"
      placeholder="Enter City"
    />
    <label for="exampleInputEmail1">State</label>
    <input
      type="text"
      class="form-control"
      id="state"
      [(ngModel)]="state"
      placeholder="Enter State"
    />
    <label for="exampleInputEmail1">Order Total</label>
    <input
      type="text"
      class="form-control"
      id="order_total"
      [(ngModel)]="order_total"
      placeholder="Enter Order Total"
    />
  </div>
  <button class="btn btn-primary" (click)="handleAddingNewCustomer()">
    Add Customer
  </button>
</form>

<div class="container">
  <table mat-table class="table">
    <thead>
      <th></th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Address</th>
      <th scope="col">City</th>
      <th scope="col">State</th>
      <th scope="col">Order Total</th>
    </thead>
    <tbody *ngFor="let customer of customersList">
      <tr
        *ngIf="
          searchText === '' ||
          customer.first_name.includes(searchText) ||
          customer.last_name.includes(searchText) ||
          customer.address.includes(searchText) ||
          customer.city.includes(searchText) ||
          customer.state.includes(searchText) ||
          customer.order_total.toString().includes(searchText)
        "
      >
        <td>
          <img src="../assets/{{ customer.img }}" alt="" />
        </td>
        <td>{{ customer.first_name }}</td>
        <td>{{ customer.last_name }}</td>
        <td>{{ customer.address }}</td>
        <td>{{ customer.city }}</td>
        <td>{{ customer.state }}</td>
        <td>${{ customer.order_total }}</td>
      </tr>
    </tbody>
  </table>
</div>
